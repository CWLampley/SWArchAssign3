/*
1. Set up the prices within the program
2. Ask how many of which item user wants
3. Multiply price by amount
4. Get total price in cart
5. Subtract amount from quantity in database
*/

#include <iostream>
#include <stdio.h>
#include "sqlite3.h"
using namespace std;


class store {
public:
	char username;
};

static int callback(void *data, int argc, char **argv, char **azColName) {
	int i;
	fprintf(stderr, "%s: ", (const char*)data);
	for (i = 0; i<argc; i++) {
		printf("%s = %s\n", azColName[i], argv[i] ? argv[i] : "NULL");
	}
	printf("\n");
	return 0;
}

int main(int argc, char* argv[])
{
	sqlite3 *db;
	char *zErrMsg = 0;
	int rc;
	char *sql;
	const char* data = "Callback function called";

	/*Open database*/
	rc = sqlite3_open("test.db", &db);
	if (rc) {
		printf("Can't open database: %s\n", sqlite3_errmsg(db));
		return(0);
	}
	else {
		printf("Opened database successfully\n");
	}

	/* Create SQL statement*/
	sql = "SELECT * from inventory";

	/*Execute SQL*/
	rc = sqlite3_exec(db, sql, callback, (void*)data, &zErrMsg);
	if (rc != SQLITE_OK) {
		fprintf(stderr, "SQL eror %s\n", zErrMsg);
		sqlite3_free(zErrMsg);
	}
	else {
		fprintf(stdout, "Operation done successfully\n");
	}
	sqlite3_close(db);
	cout << "Press enter to close...";
	cin.get();
	return 0;
}
